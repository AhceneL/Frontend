<div class="profile-page">
  <div class="profile-card" *ngIf="user">
    <!-- Affichage de l'avatar -->
    <img [src]="user?.avatar || 'assets/avatar-par-defaut.jpg'" class="profile-avatar" alt="Avatar" />

    <h2 class="profile-name">{{ user?.nom || 'Utilisateur' }}</h2>
    <p class="profile-email">{{ user?.email }}</p>

    <!-- Sélection de l'avatar -->
    <div class="avatar-selection">
      <h3>Choisissez votre avatar</h3>
      <div class="avatar-options">
        <img *ngFor="let avatar of avatars"
             [src]="avatar"
             [alt]="'Avatar ' + avatar"
             (click)="changeAvatar(avatar)"
             [class.selected]="avatar === user.avatar"
             class="avatar-img" />
      </div>
    </div>

    <!-- Formulaire pour modifier les informations du profil -->
    <form class="profile-form">
      <div class="input-group">
        <label>Nom</label>
        <input [(ngModel)]="user.nom" name="nom" type="text" [placeholder]="'Nom'" />
      </div>

      <div class="input-group">
        <label>Prénom</label>
        <input [(ngModel)]="user.prenom" name="prenom" type="text" [placeholder]="'Prénom'" />
      </div>

      <div class="input-group">
        <label>Email</label>
        <input [(ngModel)]="user.email" name="email" type="email" [placeholder]="'Email'" />
      </div>

      <div class="form-actions">
        <button type="button" class="save-btn" (click)="saveChanges()">Enregistrer les modifications</button>
        <button type="button" class="cancel-btn" (click)="cancel()">Annuler</button>
      </div>
    </form>
  </div>

  <!-- Si l'utilisateur n'est pas encore chargé -->
  <div *ngIf="!user" class="loading">
    <p>Chargement du profil...</p>
  </div>

  <button class="logout-btn" (click)="logout()">Se Déconnecter</button>
</div>
